{"ast":null,"code":"// api/auth.js\n\nimport { loginAPI } from \"../constant\";\nexport const loginUser = async ({\n  username,\n  password\n}) => {\n  const response = await fetch(`${loginAPI}`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      username,\n      password\n    })\n  });\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.message || \"Login failed\");\n  }\n  console.log(\"loginresponse\", response);\n  return response.json();\n};\nexport const saveAuth = (accessToken, tokenType) => {\n  const storage = localStorage;\n  storage.setItem(\"token\", accessToken);\n  storage.setItem(\"tokenType\", tokenType);\n};\nexport const logout = setIsUserRegistered => {\n  localStorage.removeItem(\"token\");\n  localStorage.removeItem(\"tokenType\");\n  localStorage.removeItem(\"isUserRegistered\");\n  if (typeof setIsUserRegistered === \"function\") {\n    setIsUserRegistered(false); // Update context for reactive UI\n  }\n};\nexport const getToken = () => {\n  return localStorage.getItem(\"token\") || sessionStorage.getItem(\"token\");\n};\nexport const getTokenType = () => {\n  return localStorage.getItem(\"tokenType\") || sessionStorage.getItem(\"tokenType\");\n};\nexport const isAuthenticated = () => !!getToken();","map":{"version":3,"names":["loginAPI","loginUser","username","password","response","fetch","method","headers","body","JSON","stringify","ok","error","json","Error","message","console","log","saveAuth","accessToken","tokenType","storage","localStorage","setItem","logout","setIsUserRegistered","removeItem","getToken","getItem","sessionStorage","getTokenType","isAuthenticated"],"sources":["C:/Babu-Data/personal-workspace/rms-workspace/frontend/rms-frontend-app/src/utils/helper/helper.js"],"sourcesContent":["// api/auth.js\r\n\r\nimport { loginAPI } from \"../constant\";\r\n\r\nexport const loginUser = async ({ username, password }) => {\r\n  const response = await fetch(`${loginAPI}`, {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify({ username, password }),\r\n  });\r\n\r\n  if (!response.ok) {\r\n    const error = await response.json();\r\n    throw new Error(error.message || \"Login failed\");\r\n  }\r\n  console.log(\"loginresponse\", response);\r\n\r\n  return response.json();\r\n};\r\nexport const saveAuth = (accessToken, tokenType) => {\r\n  const storage = localStorage;\r\n  storage.setItem(\"token\", accessToken);\r\n  storage.setItem(\"tokenType\", tokenType);\r\n};\r\n\r\nexport const logout = (setIsUserRegistered) => {\r\n  localStorage.removeItem(\"token\");\r\n  localStorage.removeItem(\"tokenType\");\r\n  localStorage.removeItem(\"isUserRegistered\");\r\n\r\n  if (typeof setIsUserRegistered === \"function\") {\r\n    setIsUserRegistered(false); // Update context for reactive UI\r\n  }\r\n};\r\n\r\nexport const getToken = () => {\r\n  return localStorage.getItem(\"token\") || sessionStorage.getItem(\"token\");\r\n};\r\n\r\nexport const getTokenType = () => {\r\n  return (\r\n    localStorage.getItem(\"tokenType\") || sessionStorage.getItem(\"tokenType\")\r\n  );\r\n};\r\n\r\nexport const isAuthenticated = () => !!getToken();\r\n"],"mappings":"AAAA;;AAEA,SAASA,QAAQ,QAAQ,aAAa;AAEtC,OAAO,MAAMC,SAAS,GAAG,MAAAA,CAAO;EAAEC,QAAQ;EAAEC;AAAS,CAAC,KAAK;EACzD,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGL,QAAQ,EAAE,EAAE;IAC1CM,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MAAE,cAAc,EAAE;IAAmB,CAAC;IAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MAAER,QAAQ;MAAEC;IAAS,CAAC;EAC7C,CAAC,CAAC;EAEF,IAAI,CAACC,QAAQ,CAACO,EAAE,EAAE;IAChB,MAAMC,KAAK,GAAG,MAAMR,QAAQ,CAACS,IAAI,CAAC,CAAC;IACnC,MAAM,IAAIC,KAAK,CAACF,KAAK,CAACG,OAAO,IAAI,cAAc,CAAC;EAClD;EACAC,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEb,QAAQ,CAAC;EAEtC,OAAOA,QAAQ,CAACS,IAAI,CAAC,CAAC;AACxB,CAAC;AACD,OAAO,MAAMK,QAAQ,GAAGA,CAACC,WAAW,EAAEC,SAAS,KAAK;EAClD,MAAMC,OAAO,GAAGC,YAAY;EAC5BD,OAAO,CAACE,OAAO,CAAC,OAAO,EAAEJ,WAAW,CAAC;EACrCE,OAAO,CAACE,OAAO,CAAC,WAAW,EAAEH,SAAS,CAAC;AACzC,CAAC;AAED,OAAO,MAAMI,MAAM,GAAIC,mBAAmB,IAAK;EAC7CH,YAAY,CAACI,UAAU,CAAC,OAAO,CAAC;EAChCJ,YAAY,CAACI,UAAU,CAAC,WAAW,CAAC;EACpCJ,YAAY,CAACI,UAAU,CAAC,kBAAkB,CAAC;EAE3C,IAAI,OAAOD,mBAAmB,KAAK,UAAU,EAAE;IAC7CA,mBAAmB,CAAC,KAAK,CAAC,CAAC,CAAC;EAC9B;AACF,CAAC;AAED,OAAO,MAAME,QAAQ,GAAGA,CAAA,KAAM;EAC5B,OAAOL,YAAY,CAACM,OAAO,CAAC,OAAO,CAAC,IAAIC,cAAc,CAACD,OAAO,CAAC,OAAO,CAAC;AACzE,CAAC;AAED,OAAO,MAAME,YAAY,GAAGA,CAAA,KAAM;EAChC,OACER,YAAY,CAACM,OAAO,CAAC,WAAW,CAAC,IAAIC,cAAc,CAACD,OAAO,CAAC,WAAW,CAAC;AAE5E,CAAC;AAED,OAAO,MAAMG,eAAe,GAAGA,CAAA,KAAM,CAAC,CAACJ,QAAQ,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}